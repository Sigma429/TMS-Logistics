注：实际生产代码在内网中，该仓库仅是个人在基础版上开发些扩展功能

# **1**、TMS-Logistics

## 1.1、概述

TMS-Logistics是一个基于Spring Cloud微服务架构体系的、具备完整物流业务闭环的生产级物流项目系统。

## 1.2、特性

- 取派件、分段运输转发等核心环节接入高可用任务调度，可定制调度策略，目前支持成本优先、距离优先俩种方式。
- 多类型（干线，支线，接驳线）、网状线路，支持多维度配置线路，有力缓解疫情等突发原因导致的运输任务积压。
- 分布式仓储(Redis缓存方式）配合集装箱模式灵活转运订单。
- MongoDB存储订单信息流，实时追踪订单状态。
- 司机、快递员等多端点位采集位置上报，运输轨迹一目了然。
- 公交车模式运输任务，预规划车次计划的基础上可插拔配置不同车型车辆与多样化司机作息安排。
- 小程序下单、多途径支付、取消，拒收等履约方式、预约取件时间等机制，一切从用户角度出发。
- 根据地图坐标范围、工作负载，行政机构范围等多特征点智能分配取件、派件作业任务，整体提升运作效率。
- 线上线下结合，多场景、多系统角色支撑的生产级系统业务编排。

## 1.3、产品说明

TMS-Logistics类似顺丰速运，是向C端用户提供快递服务的系统。竞品有：顺丰、中通、圆通、京东快递等。
项目产品主要有4端产品：

- 用户端：基于微信小程序开发，外部客户使用，可以寄件、查询物流信息等。
- 快递员端：基于安卓开发的手机APP，公司内部的快递员使用，可以接收取派件任务等。
- 司机端：基于安卓开发的手机APP，公司内部的司机使用，可以接收运输任务、上报位置信息等。
- 后台系统管理：基于vue开发，PC端使用，公司内部管理员用户使用，可以进行基础数据维护、订单管理、运单管理等。


## 2、业务功能流程

![](https://cdn.nlark.com/yuque/0/2022/jpeg/27683667/1667813584952-24320691-7837-4c72-97c1-2d99b7da71fe.jpeg)

:::info
流程说明：

- 用户在**【用户端】**下单后，生成订单
- 系统会根据订单生成**【取件任务】**，快递员上门取件后成功后生成**【运单】**
- 用户对订单进行支付，会产生**【交易单】**
- 快件开始运输，会经历起始营业部、分拣中心、转运中心、分拣中心、终点营业部之间的转运运输，在此期间会有多个**【运输任务】**
- 到达终点网点后，系统会生成**【派件任务】**，快递员进行派件作业
- 最后，用户将进行签收或拒收操作
  :::
  

## 3、服务列表：

| 服务名称          | 版本        | 备注                                                        |
|---------------|-----------|-----------------------------------------------------------|
| MySQL         | 8.0.29    | 业务数据存储                                                    |
| Redis         | 7.0.4     | 用作缓存以及分布式锁                                                |
| RabbitMQ      | 3.9.17    | 需要集成官方的延迟队列插件                                             |
| Nacos         | v2.1.0    | 配置中心与注册中心解决方案                                             |
| Neo4j         | 4.4.5     | 基于图数据库计算运输路线                                              |
| xxl-job       | 2.3.0     | 分布式定时任务框架                                                 |
| MongoDB       | 4.4       | 存储轨迹、作业范围等数据                                              |
| Seata         | 1.5.2     | 分布式事务解决方案                                                 |
| Elasticsearch | 7.17.5    | 分布式全文索引解决方案                                               |
| Skywalking    | 9.1.0     | 链路追踪解决方案                                                  |
| Graylog       | 4.3       | 分布式日志解决方案                                                 |
| Leaf          | 1.0.1     | 美团点评分布式ID生成系统                                             |
| EagleMap      | 1.0       | 黑马程序员自研开源项目 https://eaglemap.itheima.net/                 |
| 权限管家          | 1.0.7     | 黑马程序员自研开源项目 https://gitee.com/itcastopen/itcast-authority |
| nexus         | 2.15.1    | maven私服                                                   |
| gogs          | 0.12      | git代码管理                                                   |
| Jenkins       | lts-jdk11 | 持续集成                                                      |
